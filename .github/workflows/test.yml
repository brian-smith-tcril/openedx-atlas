name: Test

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "**" ]

jobs:
  shellspec-linux:
    runs-on: ubuntu-22.04
    steps:
    - uses: actions/checkout@v3
    - name: install shellcheck
      run: apt install shellcheck
    - name: Set up Homebrew
      id: set-up-homebrew
      uses: Homebrew/actions/setup-homebrew@master
    - name: install shellspec
      run: |
        brew tap shellspec/shellspec
        brew install shellspec
    - name: install getoptions
      run: |
        brew tap ko1nksm/getoptions
        brew install getoptions
    - name: run shellspec
      run: shellspec
    # - name: pull generated script
    #   uses: actions/download-artifact@v3
    #   with:
    #     name: atlas
    # - name: 





  #           - name: shellcheck generated script
  #     run: make shellcheck